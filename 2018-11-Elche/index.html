<!DOCTYPE html> 
<html> 
<head> <title>Video Streaming using Icecast/P2PSP</title> 
<meta charset="UTF-8" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
<script type="text/javascript" 
src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" 
></script> 
<style type="text/css"> 
.MathJax_MathML {text-indent: 0;} 
</style> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead">Video Streaming using Icecast/P2PSP</h2>
 <div class="author" ><!--tex4ht:inline--><div class="tabular"> <table id="TBL-2" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1" /><col 
id="TBL-2-2" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="text-align:left; white-space:nowrap;" id="TBL-2-1-1"  
class="td11"><span 
class="ecrm-1200">Crist</span><span 
class="ecrm-1200">ó</span><span 
class="ecrm-1200">bal Medina L</span><span 
class="ecrm-1200">ó</span><span 
class="ecrm-1200">pez </span></td><td  style="text-align:right; white-space:nowrap;" id="TBL-2-1-2"  
class="td11"> <span 
class="ectt-1200">cristobalmedinalopez@gmail.com</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="text-align:left; white-space:nowrap;" id="TBL-2-2-1"  
class="td11"><span 
class="ecrm-1200">Juan Pablo Garc</span><span 
class="ecrm-1200">í</span><span 
class="ecrm-1200">a Ortiz  </span></td><td  style="text-align:right; white-space:nowrap;" id="TBL-2-2-2"  
class="td11">      <span 
class="ectt-1200">jp.garcia.ortiz@gmail.com</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="text-align:left; white-space:nowrap;" id="TBL-2-3-1"  
class="td11"><span 
class="ecrm-1200">Leocadio Gonz</span><span 
class="ecrm-1200">á</span><span 
class="ecrm-1200">lez Casado</span></td><td  style="text-align:right; white-space:nowrap;" id="TBL-2-3-2"  
class="td11">                     <span 
class="ectt-1200">leo@ual.es</span></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="text-align:left; white-space:nowrap;" id="TBL-2-4-1"  
class="td11"><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">á</span><span 
class="ecrm-1200">lez Ruiz </span></td> <td  style="text-align:right; white-space:nowrap;" id="TBL-2-4-2"  
class="td11"> <span 
class="ectt-1200">vruiz@ual.es</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="text-align:left; white-space:nowrap;" id="TBL-2-5-1"  
class="td11"><span 
class="ecrm-1200">                                    </span></td><td  style="text-align:right; white-space:nowrap;" id="TBL-2-5-2"  
class="td11">                              <span 
class="ecrm-1200"> </span></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td colspan="2" style="text-align:center; white-space:nowrap;" id="TBL-2-6-1"  
class="td11"><div class="multicolumn"  style="text-align:center; white-space:nowrap;"> <div style="text-align:center;"> <img width=600 src="graphics/thanks.png" /> </div> </div></td></tr></table></div></div>
<br />
<div class="date" ><span 
class="ecrm-1200">Elche</span><br />
<span 
class="ecrm-1200">November, 2018</span></div>
   </div>
   <div 
class="abstract" 
>
<div class="center" 
>
<!--l. 26--><p class="noindent" >
</p><!--l. 26--><p class="noindent" ><span 
class="ecbx-0900">Abstract</span></p></div>
     <!--l. 27--><p class="indent" >    <span 
class="ecrm-0900">P2PSP (</span><a 
href="https://p2psp.github.io" class="url" ><span 
class="ectt-0900">https://p2psp.github.io</span></a><span 
class="ecrm-0900">) is an application-layer protocol</span>
     <span 
class="ecrm-0900">that provides real-time broadcasting, also known as Application Layer</span>
     <span 
class="ecrm-0900">Multicast (ALM), of a media stream on the Internet. Peers collaborate</span>
     <span 
class="ecrm-0900">to diseminate the stream that is generated by a single source, minimizing</span>
     <span 
class="ecrm-0900">the latency and the protocol overhead. P2PSP overlays are push-based</span>
     <span 
class="ecrm-0900">(topology-driven) meshes. To minimize the transmission latency, P2PSP</span>
     <span 
class="ecrm-0900">establishes a communication between nearby peers, and chunks of data are</span>
     <span 
class="ecrm-0900">ﬂooded without explicit requests. P2PSP has a modular design organized</span>
     <span 
class="ecrm-0900">in </span><span 
class="ecti-0900">sets of rules</span><span 
class="ecrm-0900">,  where each module is especialized in implementing a</span>
     <span 
class="ecrm-0900">diﬀerent functionality.</span>
</p>
</div>
   <h3 class="likesectionHead"><a 
 id="x1-1000"></a>Contents</h3>
   <div class="tableofcontents">
   <span class="sectionToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">Internet transmission models</a></span>
                                                                  

                                                                  
<br />   <span class="sectionToc" >2 <a 
href="#x1-30002" id="QQ2-1-3">Streaming models</a></span>
<br />   <span class="sectionToc" >3 <a 
href="#x1-70003" id="QQ2-1-10">ALM (Application-Layer Multicast) versus NLM (Network-Layer Multicast)</a></span>
<br />   <span class="sectionToc" >4 <a 
href="#x1-80004" id="QQ2-1-11">Push-based versus Pull-based</a></span>
<br />   <span class="sectionToc" >5 <a 
href="#x1-90005" id="QQ2-1-12">P2PSP</a></span>
<br />    <span class="subsectionToc" >5.1 <a 
href="#x1-100005.1" id="QQ2-1-13">DBS (Data Broadcasting Set of rules)</a></span>
<br />    <span class="subsectionToc" >5.2 <a 
href="#x1-110005.2" id="QQ2-1-19">IMS (Ip Multicast Set of rules)</a></span>
   </div>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-20001"></a>Internet transmission models</h3>
   <div class="tabular"> <table id="TBL-3" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-3-1g"><col 
id="TBL-3-1" /><col 
id="TBL-3-2" /><col 
id="TBL-3-3" /><col 
id="TBL-3-4" /><col 
id="TBL-3-5" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-3-1-"><td  style="text-align:center; white-space:nowrap;" id="TBL-3-1-1"  
class="td11">  MODE   </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-1-2"  
class="td11">                            TOPOLOGY                                             </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-1-3"  
class="td11">             SCOPE                    </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-1-4"  
class="td11">     PROTOCOLS        </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-1-5"  
class="td11"> APPLICATIONS/SYSTEMS  </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-2-"><td  style="text-align:center; white-space:nowrap;" id="TBL-3-2-1"  
class="td11">  <a 
href="https://en.wikipedia.org/wiki/Unicast" >Unicast</a>   </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-2-2"  
class="td11"> <!--l. 45--><p class="indent" >    <div style="text-align:center;"> <img width=200 src="graphics/200px-Unicast.png" /> </div>                                                                 </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-2-3"  
class="td11">          Whole network               </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-2-4"  
class="td11">     <a 
href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" >HTTP</a> (<a 
href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol" >TCP</a>)        </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-2-5"  
class="td11">      <a 
href="https://www.reddit.com/r/networking/comments/2cp356/how_do_streaming_services_like_netflix_and/" >YouTube/Netﬂix</a>          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-3-"><td  style="text-align:center; white-space:nowrap;" id="TBL-3-3-1"  
class="td11"> <a 
href="https://en.wikipedia.org/wiki/Broadcasting_%28networking%29" >Broadcast</a>  </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-3-2"  
class="td11"> <!--l. 46--><p class="indent" >    <div style="text-align:center;"> <img width=200 src="graphics/250px-Broadcast.png" /> </div>                                                                 </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-3-3"  
class="td11">          Subnet (LAN)                </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-3-4"  
class="td11">         <a 
href="https://en.wikipedia.org/wiki/Address_Resolution_Protocol" >ARP</a>              </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-3-5"  
class="td11">             -                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-4-"><td  style="text-align:center; white-space:nowrap;" id="TBL-3-4-1"  
class="td11"> <a 
href="https://en.wikipedia.org/wiki/Multicast" >Multicast</a>  </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-4-2"  
class="td11"> <!--l. 47--><p class="indent" >    <div style="text-align:center;"> <img width=200 src="graphics/250px-Multicast.png" /> </div>                                                                 </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-4-3"  
class="td11"> Deﬁned horizon alg. (routers/TTL)  </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-4-4"  
class="td11"> <a 
href="https://en.wikipedia.org/wiki/Service_Location_Protocol" >SLP]</a> (<a 
href="https://en.wikipedia.org/wiki/User_Datagram_Protocol" >UDP</a>, <a 
href="https://en.wikipedia.org/wiki/Session_Description_Protocol" >SDP</a> <a 
href="https://en.wikipedia.org/wiki/User_Datagram_Protocol" >UDP</a>  </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-4-5"  
class="td11">     <a 
href="http://www.movistar.es/" >Movistar+</a>, <a 
href="https://www.ono.es/television/" >Ono TV</a>        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-5-"><td  style="text-align:center; white-space:nowrap;" id="TBL-3-5-1"  
class="td11">  <a 
href="https://en.wikipedia.org/wiki/Anycast" >Anycast</a>   </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-5-2"  
class="td11"> <!--l. 48--><p class="indent" >    <div style="text-align:center;"> <img width=200 src="graphics/250px-Anycast.png" /> </div>                                                                 </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-5-3"  
class="td11">             Internet                    </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-5-4"  
class="td11">  <a 
href="https://en.wikipedia.org/wiki/Domain_Name_System)" >DNS protocol</a> (<a 
href="https://en.wikipedia.org/wiki/User_Datagram_Protocol" >UDP</a>    </td><td  style="text-align:center; white-space:nowrap;" id="TBL-3-5-5"  
class="td11">         <a 
href="https://www.maxcdn.com/blog/anycast-ip-routing-used-maxcdn/" >CDNs</a> <a 
href="https://en.wikipedia.org/wiki/Domain_Name_System" >DNS</a>              </td> </tr></table>
</div>
<!--l. 51--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-30002"></a>Streaming models</h3>
   <div class="tabular"> <table id="TBL-4" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-4-1g"><col 
id="TBL-4-1" /><col 
id="TBL-4-2" /><col 
id="TBL-4-3" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-4-1-"><td  style="text-align:center; white-space:nowrap;" id="TBL-4-1-1"  
class="td11">                            IP Multicast                                             </td><td  style="text-align:center; white-space:nowrap;" id="TBL-4-1-2"  
class="td11">                   IP Unicast and Client/Server Model                              </td><td  style="text-align:center; white-space:nowrap;" id="TBL-4-1-3"  
class="td11">                       IP Unicast and P2P Model                                    </td></tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-2-"><td  style="text-align:center; white-space:nowrap;" id="TBL-4-2-1"  
class="td11"> <!--l. 55--><p class="indent" >  <div style="text-align:center;"> <img width=300 src="graphics/multicast-server.png" /> </div>  </p> </td> <td  style="text-align:center; white-space:nowrap;" id="TBL-4-2-2"  
class="td11"> <!--l. 55--><p class="indent" >  <div style="text-align:center;"> <img width=300 src="graphics/unicast-server.png" /> </div>  </p> </td> <td  style="text-align:center; white-space:nowrap;" id="TBL-4-2-3"  
class="td11"> <!--l. 55--><p class="indent" >  <div style="text-align:center;"> <img width=300 src="graphics/unicast-splitter.png" /> </div> </p></td> </tr></table>
</div>
<!--l. 58--><p class="noindent" >
</p>
   <h3 class="likesectionHead"><a 
 id="x1-40002"></a>Lab 1: Streaming with VLC</h3>
<div class="center" 
>
<!--l. 59--><p class="noindent" >
</p><!--l. 60--><p class="noindent" > <div style="text-align:center;"> <img width=200 src="graphics/VLC.png" /> </div>  </p></div>
<!--l. 62--><div class="lstinputlisting">
<a 
 id="x1-4001"></a>
   <span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4002r1"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Killing</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">all</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">VLC</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">instances</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">(</span><span 
class="ectt-1000">sources</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">and</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">listeners</span><span 
class="ectt-1000">)&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4003r2"></a></span><span 
class="ectt-1000">killall</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">vlc</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4004r3"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4005r4"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4006r5"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Creating</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">the</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">source</span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4007r6"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">~/</span><span 
class="ectt-1000">Videos</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">LBig_Buck_Bunny_small</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">sout</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;#</span><span 
class="ectt-1000">duplicate</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=:8080/</span><span 
class="ectt-1000">BBB</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000">},</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">display</span><span 
class="ectt-1000">}&#x0022;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">loop</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4008r7"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">5</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4009r8"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4010r9"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Create</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">two</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">listeners</span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4011r10"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:8080/</span><span 
class="ectt-1000">BBB</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-4012r11"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:8080/</span><span 
class="ectt-1000">BBB</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span>
   
   </div>
                                                                  

                                                                  
<!--l. 64--><p class="noindent" >
</p>
   <h3 class="likesectionHead"><a 
 id="x1-50002"></a>Lab 2: Streaming with VLC and Icecast</h3>
<div class="center" 
>
<!--l. 65--><p class="noindent" >
</p><!--l. 66--><p class="noindent" > <div style="text-align:center;"> <img width=300 src="graphics/icecast-1.png" /> </div>  </p></div>
<!--l. 68--><div class="lstinputlisting">
<a 
 id="x1-5001"></a>
   <span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5002r1"></a></span><span 
class="ectt-1000">set</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">-</span><span 
class="ectt-1000">x</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5003r2"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5004r3"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Killing</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">all</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">VLC</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">instances</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">(</span><span 
class="ectt-1000">sources</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">and</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">listeners</span><span 
class="ectt-1000">)&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5005r4"></a></span><span 
class="ectt-1000">killall</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">vlc</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5006r5"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5007r6"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5008r7"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Create</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">two</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">sources</span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5009r8"></a></span><span 
class="ectt-1000">#</span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">~/</span><span 
class="ectt-1000">Videos</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">LBig_Buck_Bunny_small</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">sout</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;#</span><span 
class="ectt-1000">duplicate</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">std</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">access</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">shout</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">mux</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">ogg</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">source</span><span 
class="ectt-1000">:</span><span 
class="ectt-1000">hackme@localhost</span><span 
class="ectt-1000">:8000/</span><span 
class="ectt-1000">BBB</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000">},</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">display</span><span 
class="ectt-1000">}&#x0022;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">loop</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5010r9"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">~/</span><span 
class="ectt-1000">Videos</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">LBig_Buck_Bunny_small</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">sout</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;#</span><span 
class="ectt-1000">std</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">access</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">shout</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">mux</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">ogg</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">source</span><span 
class="ectt-1000">:</span><span 
class="ectt-1000">hackme@localhost</span><span 
class="ectt-1000">:8000/</span><span 
class="ectt-1000">BBB</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000">}&#x0022;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">loop</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5011r10"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5012r11"></a></span><span 
class="ectt-1000">#</span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">~/</span><span 
class="ectt-1000">Videos</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">Lchi84_14_m4</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">sout</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;#</span><span 
class="ectt-1000">duplicate</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">std</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">access</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">shout</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">mux</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">ogg</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">source</span><span 
class="ectt-1000">:</span><span 
class="ectt-1000">hackme@localhost</span><span 
class="ectt-1000">:8000/</span><span 
class="ectt-1000">chi</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000">},</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">display</span><span 
class="ectt-1000">}&#x0022;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">loop</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5013r12"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">~/</span><span 
class="ectt-1000">Videos</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">Lchi84_14_m4</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">sout</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;#</span><span 
class="ectt-1000">std</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">access</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">shout</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">mux</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">ogg</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">source</span><span 
class="ectt-1000">:</span><span 
class="ectt-1000">hackme@localhost</span><span 
class="ectt-1000">:8000/</span><span 
class="ectt-1000">chi</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000">}&#x0022;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">loop</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5014r13"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5015r14"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5016r15"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Check</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">the</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">infrastructure</span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5017r16"></a></span><span 
class="ectt-1000">firefox</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:8000</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5018r17"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">5</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5019r18"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5020r19"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Create</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">three</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">listeners</span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5021r20"></a></span><span 
class="ectt-1000">mplayer</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:8000/</span><span 
class="ectt-1000">BBB</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5022r21"></a></span><span 
class="ectt-1000">mplayer</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:8000/</span><span 
class="ectt-1000">BBB</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5023r22"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:8000/</span><span 
class="ectt-1000">chi</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5024r23"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-5025r24"></a></span><span 
class="ectt-1000">set</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">+</span><span 
class="ectt-1000">x</span>
   
   </div>
<!--l. 70--><p class="noindent" >
</p>
   <h3 class="likesectionHead"><a 
 id="x1-60002"></a>Lab 3: Relaying</h3>
<div class="center" 
>
<!--l. 71--><p class="noindent" >
</p><!--l. 72--><p class="noindent" > <div style="text-align:center;"> <img width=500 src="graphics/icecast-2.png" /> </div>  </p></div>
     <ul class="itemize1">
     <li class="itemize">Icecast servers can be connected following a tree structure to increase
     scalability.
     </li>
     <li class="itemize">All or a subset of the streams (channels) can be relayed between servers.
     </li>
     <li class="itemize">Clients, the DNS (IP Anycast) or an intermediate server (which performs
     <a 
href="https://en.wikipedia.org/wiki/URL_redirection" >HTTP redirection</a>) are in charge of selecting the most suitable server.</li></ul>
<!--l. 84--><div class="lstinputlisting">
<a 
 id="x1-6001"></a>
   <span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6002r1"></a></span><span 
class="ectt-1000">set</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">-</span><span 
class="ectt-1000">x</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6003r2"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6004r3"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Killing</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">all</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">VLC</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">instances</span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6005r4"></a></span><span 
class="ectt-1000">killall</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">vlc</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6006r5"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6007r6"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6008r7"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Run</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">a</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">second</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">Icecast2</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">server</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">listening</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">at</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">port</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">9000&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6009r8"></a></span><span 
class="ectt-1000">killall</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">icecast2</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6010r9"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6011r10"></a></span><span 
class="ectt-1000">#</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">The</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">file</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">~/</span><span 
class="ectt-1000">icecast</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">icecast</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">xml</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">must</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">be</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">configured</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">to</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">listen</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">at</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">port</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6012r11"></a></span><span 
class="ectt-1000">#</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">9000</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">and</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">to</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">relay</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">all</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">the</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">master</span><span 
class="ectt-1000">’</span><span 
class="ectt-1000">s</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">channels</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6013r12"></a></span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">usr</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">bin</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">icecast2</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">-</span><span 
class="ectt-1000">b</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">-</span><span 
class="ectt-1000">c</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">~/</span><span 
class="ectt-1000">icecast</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">icecast</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">xml</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6014r13"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">5</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6015r14"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6016r15"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Feed</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">the</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">fist</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">(8000)</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">icecast</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">server</span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6017r16"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">~/</span><span 
class="ectt-1000">Videos</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">LBig_Buck_Bunny_small</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">sout</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;#</span><span 
class="ectt-1000">std</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">access</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">shout</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">mux</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">ogg</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">source</span><span 
class="ectt-1000">:</span><span 
class="ectt-1000">hackme@localhost</span><span 
class="ectt-1000">:8000/</span><span 
class="ectt-1000">BBB</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000">}&#x0022;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">loop</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6018r17"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6019r18"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">~/</span><span 
class="ectt-1000">Videos</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">Lchi84_14_m4</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">sout</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;#</span><span 
class="ectt-1000">std</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">access</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">shout</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">mux</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">ogg</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">source</span><span 
class="ectt-1000">:</span><span 
class="ectt-1000">hackme@localhost</span><span 
class="ectt-1000">:8000/</span><span 
class="ectt-1000">chi</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000">}&#x0022;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">loop</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6020r19"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6021r20"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6022r21"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Feed</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">the</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">second</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">(9000)</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">icecast</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">server</span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6023r22"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">~/</span><span 
class="ectt-1000">Videos</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">Lhcil2003_01</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">sout</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;#</span><span 
class="ectt-1000">std</span><span 
class="ectt-1000">{</span><span 
class="ectt-1000">access</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">shout</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">mux</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">ogg</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000">dst</span><span 
class="ectt-1000">=</span><span 
class="ectt-1000">source</span><span 
class="ectt-1000">:</span><span 
class="ectt-1000">hackme@localhost</span><span 
class="ectt-1000">:9000/</span><span 
class="ectt-1000">hcil</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000">}&#x0022;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">--</span><span 
class="ectt-1000">loop</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6024r23"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6025r24"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6026r25"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Check</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">the</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">infrastructure</span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6027r26"></a></span><span 
class="ectt-1000">firefox</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:8000</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6028r27"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">10</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6029r28"></a></span><span 
class="ectt-1000">firefox</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:9000</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6030r29"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6031r30"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Plase</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">push</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x003C;</span><span 
class="ectt-1000">enter</span><span 
class="ectt-1000">&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">to</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">continue</span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6032r31"></a></span><span 
class="ectt-1000">read</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6033r32"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6034r33"></a></span><span 
class="ectt-1000">echo</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0022;</span><span 
class="ectt-1000">Run</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">the</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">listeners</span><span 
class="ectt-1000">,</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">one</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">for</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">the</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">8000</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">and</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">two</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">for</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">the</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">9000&#x0022;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6035r34"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:8000/</span><span 
class="ectt-1000">BBB</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6036r35"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6037r36"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:9000/</span><span 
class="ectt-1000">chi</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6038r37"></a></span><span 
class="ectt-1000">sleep</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">1</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6039r38"></a></span><span 
class="ectt-1000">cvlc</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">http</span><span 
class="ectt-1000">://</span><span 
class="ectt-1000">localhost</span><span 
class="ectt-1000">:9000/</span><span 
class="ectt-1000">hcil</span><span 
class="ectt-1000">.</span><span 
class="ectt-1000">ogv</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">2&#x003E;</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">dev</span><span 
class="ectt-1000">/</span><span 
class="ectt-1000">null</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">&#x0026;</span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6040r39"></a></span><span 
class="ectt-1000"> </span><br /><span class="label"><a 
 id="x1-6041r40"></a></span><span 
class="ectt-1000">set</span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">+</span><span 
class="ectt-1000">x</span>
   
   </div>
                                                                  

                                                                  
<!--l. 86--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-70003"></a>ALM (Application-Layer Multicast) versus NLM (Network-Layer
Multicast)</h3>
<div class="center" 
>
<!--l. 87--><p class="noindent" >
</p>
<div class="tabular"> <table id="TBL-5" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-5-1g"><col 
id="TBL-5-1" /><col 
id="TBL-5-2" /><col 
id="TBL-5-3" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-5-1-"><td  style="text-align:center; white-space:nowrap;" id="TBL-5-1-1"  
class="td11"> <!--l. 89--><p class="noindent" > <div style="text-align:center;"> <img width=200 src="graphics/NLM.png" /> </div>                                                                    </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-5-1-2"  
class="td11"> <!--l. 89--><p class="noindent" > <div style="text-align:center;"> <img width=200 src="graphics/CS-ALM.png" /> </div>                                                                    </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-5-1-3"  
class="td11"> <!--l. 89--><p class="noindent" > <div style="text-align:center;"> <img width=200 src="graphics/P2P-ALM.png" /> </div>                                                                    </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-2-"><td  style="text-align:center; white-space:nowrap;" id="TBL-5-2-1"  
class="td11">                        Network Layer Multicast                                      </td><td  style="text-align:center; white-space:nowrap;" id="TBL-5-2-2"  
class="td11">                   Client/Server Application Multicast                              </td><td  style="text-align:center; white-space:nowrap;" id="TBL-5-2-3"  
class="td11">                   Peer-to-Peer Application Multicast                               </td></tr></table>
</div></div>
<!--l. 94--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-80004"></a>Push-based versus Pull-based</h3>
<div class="center" 
>
<!--l. 95--><p class="noindent" >
</p>
<div class="tabular"> <table id="TBL-6" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-6-1g"><col 
id="TBL-6-1" /><col 
id="TBL-6-2" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-6-1-"><td  style="text-align:right; white-space:nowrap;" id="TBL-6-1-1"  
class="td11"> <!--l. 97--><p class="noindent" > <div style="text-align:center;"> <img width=200 src="graphics/push-based.png" /> </div>                                                                    </p></td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-1-2"  
class="td11"> <!--l. 97--><p class="noindent" > <div style="text-align:center;"> <img width=200 src="graphics/pull-based.png" /> </div>                                                                    </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-6-2-"><td  style="text-align:right; white-space:nowrap;" id="TBL-6-2-1"  
class="td11">                                                  Push-based Protocol  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-2-2"  
class="td11"> Pull-based Protocol                                                                               </td></tr></table>
</div></div>
<!--l. 102--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-90005"></a>P2PSP</h3>
<!--l. 103--><p class="noindent" >An <a 
href="https://en.wikipedia.org/wiki/Multicast" >Application-layer Multicast</a> protocol which uses a push-based <a 
href="https://en.wikipedia.org/wiki/Network_topology" >fully-connected
mesh</a> (when possible) <a 
href="https://en.wikipedia.org/wiki/Overlay_network" >overlay</a> for real-time <a 
href="(https://en.wikipedia.org/wiki/Streaming_media" >streaming of media content</a> between
networked <a 
href="https://en.wikipedia.org/wiki/Process_%28computing%29" >entities</a>.
</p>
<div class="center" 
>
<!--l. 105--><p class="noindent" >
</p><!--l. 106--><p class="noindent" > <div style="text-align:center;"> <img width=400 src="graphics/full-mesh.png" /> </div>  </p></div>
                                                                  

                                                                  
<!--l. 109--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">5.1   </span> <a 
 id="x1-100005.1"></a>DBS (Data Broadcasting Set of rules)</h4>
<!--l. 110--><p class="noindent" >DBS provides ALM <span class="cite">[<a 
href="#Xbanerjee2002scalable">1</a>]</span> of a media stream in unicast environments <span class="cite">[<a 
href="#Xcomer2003computer">3</a>]</span>.
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-10002x1">The media is sent by a streaming server, and received by a <span 
class="ecti-1000">splitter</span>.
     </li>
     <li 
  class="enumerate" id="x1-10004x2">The splitter divides the stream into a sequence of chunks of data, and
     relay them to its <span 
class="ecti-1000">team </span>using a round-robing schema.
     </li>
     <li 
  class="enumerate" id="x1-10006x3">Each <span 
class="ecti-1000">peer </span>gathers the chunks from the splitter and the rest of peers of the
     team, and sends them to a <span 
class="ecti-1000">player</span>.
     </li>
     <li 
  class="enumerate" id="x1-10008x4">Incoming peers receive from the splitter the list of peers of the team, and
     send to they a <!--l. 121--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">[</mo><mrow><mstyle 
class="text"><mtext  >hello</mtext></mstyle></mrow><mo 
class="MathClass-close">]</mo></mrow></math>
     message.
     </li>
     <li 
  class="enumerate" id="x1-10010x5">When a peer receives a <!--l. 122--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">[</mo><mrow><mstyle 
class="text"><mtext  >hello</mtext></mstyle></mrow><mo 
class="MathClass-close">]</mo></mrow></math>,
     incorporates the sender to a table <!--l. 123--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >forward</mtext></mstyle></math>.
     If peer <!--l. 123--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
     has an entry <!--l. 124--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
> <mo 
class="MathClass-punc">:</mo> <mrow ><mo 
class="MathClass-open">[</mo><mrow><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
><mo 
class="MathClass-punc">,</mo><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
></mrow><mo 
class="MathClass-close">]</mo></mrow></math>
     in their forwarding table, each chunk originated at <!--l. 125--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
     will be forwarded to <!--l. 125--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>
     and <!--l. 125--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
></math>.
     </li>
     <li 
  class="enumerate" id="x1-10012x6">To perform data ﬂow-control, peers write down in a table <!--l. 127--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >pending</mtext></mstyle></math>
     all chunks that must be sent to each neighbor, which are selected using a
     round-robing scheduler when a new chunk is received.</li></ol>
<div class="center" 
>
<!--l. 132--><p class="noindent" >
</p>
<hr class="figure" /><div class="figure" 
><a 
 id="x1-100131"></a> <div style="text-align:center;"> <img width=250 src="graphics/team_0.png" /> </div> 
<br />  <div class="caption" 
><span class="id">Figure 1:    </span><span  
class="content">A    team    has    been    created    with    a    single    monitor
<!--l. 140--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>
(<!--l. 140--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">[</mo><mrow><mi mathvariant="monospace">hello</mi></mrow><mo 
class="MathClass-close">]</mo></mrow></math>
messages   are   not   shown).   Chunks   with   numbers   0   and   1   (the   time
<!--l. 140--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>t</mi></math>
is   measured   in   chunks-time)   have   been   transmitted   from   the   splitter
<!--l. 140--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>S</mi></math>
                                                                  

                                                                  
to <!--l. 140--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>.
<!--l. 140--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>F</mi></math>
and <!--l. 140--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>P</mi></math>
represents the <!--l. 140--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >forward</mtext></mstyle><mrow ><mo 
class="MathClass-open">[</mo><mrow></mrow><mo 
class="MathClass-close">]</mo></mrow></math>
and the <!--l. 140--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >pending</mtext></mstyle><mrow ><mo 
class="MathClass-open">[</mo><mrow></mrow><mo 
class="MathClass-close">]</mo></mrow></math>
structures, respectively. The chunks stored in the buﬀer is shown under the
entity.</span></div><!--tex4ht:label?: x1-100131 -->
</div><hr class="endfigure" />
<hr class="figure" /><div class="figure" 
><a 
 id="x1-100142"></a> <div style="text-align:center;"> <img width=250 src="graphics/team_1.png" /> </div> 
<br /> <div class="caption" 
><span class="id">Figure 2: </span><span  
class="content">Peer <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>
joins the team (the <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">[</mo><mrow><mi mathvariant="monospace">hello</mi></mrow><mo 
class="MathClass-close">]</mo></mrow></math>’s
are not shown). In <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>,
<!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>F</mi> <mo 
class="MathClass-rel">=</mo> <mrow ><mo 
class="MathClass-open">{</mo><mrow><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
> <mo 
class="MathClass-punc">:</mo> <mrow ><mo 
class="MathClass-open">[</mo><mrow><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></mrow><mo 
class="MathClass-close">]</mo></mrow></mrow><mo 
class="MathClass-close">}</mo></mrow></math>
because when <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>
receives the <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">[</mo><mrow><mi mathvariant="monospace">hello</mi></mrow><mo 
class="MathClass-close">]</mo></mrow></math>
from <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>,
<!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>
is      the      origin      peer      for      all      chunks      received      from
<!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>S</mi></math>
and <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>
is its neighbor. <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>
includes an entry <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
> <mo 
class="MathClass-punc">:</mo> <mrow ><mo 
class="MathClass-open">[</mo><mrow><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></mrow><mo 
class="MathClass-close">]</mo></mrow></math>
in its forwarding table because <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>
is      in      the      list      of      peers      received      from      the      splitter.
After      that,      when      the      chunk      number      2      arrives      to
<!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>
from <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>S</mi></math>,
an entry <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
> <mo 
class="MathClass-punc">:</mo> <mn>2</mn></math>
is created in <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>P</mi><mrow ><mo 
class="MathClass-open">{</mo><mrow></mrow><mo 
class="MathClass-close">}</mo></mrow></math>
for  that  chunk,  and  this  entry  is  deleted  when  the  chunk  2  is  sent  to
<!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>.
Notice that <!--l. 155--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>
does not receive chunks 0 and 1 because these chunks belong to a old (already
played) section of the stream.</span></div><!--tex4ht:label?: x1-100142 -->
</div><hr class="endfigure" />
<hr class="figure" /><div class="figure" 
><a 
 id="x1-100153"></a> <div style="text-align:center;"> <img width=300 src="graphics/team_2.png" /> </div> 
<br /> <div class="caption" 
><span class="id">Figure 3: </span><span  
class="content"><!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>2</mn></mrow></msub 
></math>
joins the team (sending the <!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">[</mo><mrow><mi mathvariant="monospace">hello</mi></mrow><mo 
class="MathClass-close">]</mo></mrow></math>’s
not shown). <!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>
and <!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>
includes <!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>2</mn></mrow></msub 
></math>
in     their     forwarding     tables.     The     chunk     3     is     received     by
<!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>
which decides to send it to <!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>2</mn></mrow></msub 
></math>.
Chunk       3       remains       as       pending       to       be       sent       to
<!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>
                                                                  

                                                                  
when the next chunk is received by <!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>.
<!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>2</mn></mrow></msub 
></math>
is the origin peer for <!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>
and <!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>
because     both     of     them     are     in     the     list     of     peers     that
<!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>2</mn></mrow></msub 
></math>
receives from <!--l. 166--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>S</mi></math>.
</span></div><!--tex4ht:label?: x1-100153 -->
</div><hr class="endfigure" />
<hr class="figure" /><div class="figure" 
><a 
 id="x1-100164"></a> <div style="text-align:center;"> <img width=330 src="graphics/team_3.png" /> </div> 
<br /> <div class="caption" 
><span class="id">Figure 4: </span><span  
class="content">Chunk 4 is received by <!--l. 172--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>2</mn></mrow></msub 
></math>
which relays it to <!--l. 172--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
></math>,
what relays chunk 3 to <!--l. 172--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>.</span></div><!--tex4ht:label?: x1-100164 -->
</div><hr class="endfigure" />
<hr class="figure" /><div class="figure" 
><a 
 id="x1-100175"></a> <div style="text-align:center;"> <img width=330 src="graphics/team_4.png" /> </div> 
<br /> <div class="caption" 
><span class="id">Figure 5: </span><span  
class="content">Chunk 5 is received by <!--l. 177--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>
which relays it to <!--l. 177--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mn>2</mn></mrow></msub 
></math>.</span></div><!--tex4ht:label?: x1-100175 -->
</div><hr class="endfigure" />
<!--l. 181--><p class="noindent" ></p><hr class="float" /><div class="float" 
> <div style="text-align:center;"> <img width=350 src="graphics/team_5.png" /> </div>  </div><hr class="endfloat" />
<!--l. 185--><p class="noindent" ></p><hr class="float" /><div class="float" 
> <div style="text-align:center;"> <img width=380 src="graphics/team_6.png" /> </div>  </div><hr class="endfloat" />
<!--l. 189--><p class="noindent" ></p><hr class="float" /><div class="float" 
> <div style="text-align:center;"> <img width=320 src="graphics/team_7.png" /> </div>  </div><hr class="endfloat" />
<!--l. 193--><p class="noindent" ></p><hr class="float" /><div class="float" 
> <div style="text-align:center;"> <img width=200 src="graphics/team_8.png" /> </div>  </div><hr class="endfloat" />
<!--l. 197--><p class="noindent" ></p><hr class="float" /><div class="float" 
> <div style="text-align:center;"> <img width=280 src="graphics/team_9.png" /> </div>  </div><hr class="endfloat" />
<!--l. 201--><p class="noindent" ></p><hr class="float" /><div class="float" 
> <div style="text-align:center;"> <img width=350 src="graphics/team_10.png" /> </div>  </div><hr class="endfloat" />
<!--l. 205--><p class="noindent" ></p><hr class="float" /><div class="float" 
> <div style="text-align:center;"> <img width=210 src="graphics/team_11.png" /> </div>  </div><hr class="endfloat" />
<!--l. 209--><p class="noindent" ></p><hr class="float" /><div class="float" 
> <div style="text-align:center;"> <img width=210 src="graphics/team_12.png" /> </div>  </div><hr class="endfloat" />
<!--l. 213--><p class="noindent" ></p><hr class="float" /><div class="float" 
> <div style="text-align:center;"> <img width=210 src="graphics/team_13.png" /> </div>  </div><hr class="endfloat" />
</div>
<!--l. 218--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">5.2   </span> <a 
 id="x1-110005.2"></a>IMS (Ip Multicast Set of rules)</h4>
<!--l. 219--><p class="noindent" >IPM is available by default in LANs (Local Are Network)s and VLANs (Virtual
LANs) <span class="cite">[<a 
href="#Xshabtay2011ip">4</a>]</span>, but not in the Internet <span class="cite">[<a 
href="#XComer1">2</a>]</span>. IMS runs on the top of DBS and provides
eﬃcient native IPM, where available.
</p><!--l. 224--><p class="indent" >
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-11002x1">The idea of IMS is simple: all peers in the same LAN or VLAN have the
     same network address. When a joining peer <!--l. 226--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
     receives the list of peers from its splitter, ﬁrst checks if there are neighbors
     in the same subnet (all of them share the same private network address).
     For all those peers, <!--l. 229--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>P</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
     uses the IP address <!--l. 230--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi mathvariant="monospace">224.0.0.1</mi></math>
                                                                  

                                                                  
     (all systems on this subnet), (default) port <!--l. 231--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi mathvariant="monospace">1234</mi></math>,
     to multicast (only) the chunks received from the splitter.</li></ol>
<!--l. 1--><p class="noindent" >
</p>
   <h3 class="likesectionHead"><a 
 id="x1-120005.2"></a>References</h3>
<!--l. 1--><p class="noindent" >
   </p><div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 [1]<span class="bibsp">   </span></span><a 
 id="Xbanerjee2002scalable"></a>Suman Banerjee, Bobby Bhattacharjee, and Christopher Kommareddy.
   <span 
class="ecti-1000">Scalable application layer multicast</span>, volume 32. ACM, 2002.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [2]<span class="bibsp">   </span></span><a 
 id="XComer1"></a>Douglas E. Comer. <span 
class="ecti-1000">Internetworking with TCP/IP. Principles, Protocols,</span>
   <span 
class="ecti-1000">and Architectures (4th Edition)</span>, volume 1. Prentice Hall, 2000.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [3]<span class="bibsp">   </span></span><a 
 id="Xcomer2003computer"></a>Douglas E  Comer  and  Ralph E  Droms.    <span 
class="ecti-1000">Computer  networks  and</span>
   <span 
class="ecti-1000">internets</span>. Prentice-Hall, Inc., 2003.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [4]<span class="bibsp">   </span></span><a 
 id="Xshabtay2011ip"></a>Lior  Shabtay  and  Benny  Rodrig.   Ip  multicast  in  vlan  environment,
   April 12 2011. US Patent 7,924,837.
</p>
   </div>
    
</body> 
</html>
                                                                  


